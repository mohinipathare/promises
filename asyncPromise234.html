<script>
    const posts=[
       {
           title:'Post One',body:'This is post one'
       },
       {
           title:'Post Two',body:'This is post Two'
       }
   ];

   function getPosts(){
       setTimeout(()=>
       {
           let output='';
           posts.forEach((post,index)=>
           {
               output+=`<li>${post.title}</li>`
           });
           document.body.innerHTML=output;
       },1000);
   }

   const user={
       lastActivityTime:'13th jan'
   }
   function createPost(){
       setTimeout(()=>{
           user.lastActivityTime=new Date().getTime();
           resolve(user.lastActivityTime)},1000)

   }

   function deletePost(){
       return new Promise((resolve,reject)=>{
           setTimeout(()=>{
               if(posts.length>0){
                   resolve(posts.pop());
               }
               else{
                   reject('Array is empty now');
               }
           },1000);
       });
   }

   createPost({title:'Post three',body:'this is post three'}).then(()=>{
       getPosts()
       deletePost.then(()=>{
           getPosts()
           deletePost.then(()=>{})
               .catch((err)=>{
                      console.log('inside catch block',err) 

           })
       })
   })
   .catch(err=> console.log(err))
</script>
